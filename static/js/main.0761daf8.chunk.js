(this["webpackJsonptoweriq-test-app"]=this["webpackJsonptoweriq-test-app"]||[]).push([[0],{61:function(e,t,r){},62:function(e,t,r){},64:function(e,t,r){},65:function(e,t,r){},66:function(e,t,r){"use strict";r.r(t);var n=r(1),c=r(0),s=r.n(c),a=r(10),i=r.n(a),j=r(15),u=r(7),l=r(14),d=r.n(l),o=r(26),b=r(27),O=r.n(b);function h(e){return{type:"LOADING_COMPLETE",payload:e}}r(61);var x=function(){return Object(n.jsx)("div",{className:"spinner",children:Object(n.jsx)("div",{className:"loadingio-spinner-double-ring-ngeuxeet5f",children:Object(n.jsxs)("div",{className:"ldio-spyam8woo",children:[Object(n.jsx)("div",{}),Object(n.jsx)("div",{}),Object(n.jsx)("div",{children:Object(n.jsx)("div",{})}),Object(n.jsx)("div",{children:Object(n.jsx)("div",{})})]})})})},p=r(70),f=r(67),v=(r(62),function(e){var t=e.pages,r=e.setCurrentPage;return Object(n.jsx)("div",{className:"pagination",children:Object(n.jsx)(f.a,{size:"sm-2",variant:"secondary","aria-label":"First group",children:function(){for(var e=[],c=1;c<=t;c++)e.push(c);return e.map((function(e){return Object(n.jsx)(p.a,{variant:"secondary",className:"h-100",onClick:function(){return r(e)},children:e},e)}))}()})})}),m=(r(63),r(64),r(68)),g=r(69),N=(r(65),function(e){var t=e.usersOnPage,r=e.currentUser;return Object(n.jsxs)("main",{children:[Object(n.jsxs)(m.a,{striped:!0,bordered:!0,hover:!0,variant:"dark",className:"user-list",children:[Object(n.jsx)("thead",{children:Object(n.jsxs)("tr",{children:[Object(n.jsx)("th",{children:"#"}),Object(n.jsx)("th",{children:"First Name"}),Object(n.jsx)("th",{children:"Last Name"})]})}),Object(n.jsx)("tbody",{children:t})]}),Object(n.jsx)("div",{className:"current-user",children:Object(n.jsx)(g.a,{bg:"dark",text:"white",style:{width:"18rem"},className:"mb-2",children:Object(n.jsx)(g.a.Body,{children:r&&r.name})})})]})}),y=function(){var e=Object(u.c)((function(e){return e.users})),t=Object(u.c)((function(e){return e.loading})),r=Object(u.c)((function(e){return e.error})),s=Object(u.b)(),a=Object(c.useState)(1),i=Object(j.a)(a,2),l=i[0],b=i[1],p=Object(c.useState)(null),f=Object(j.a)(p,2),m=f[0],g=f[1],y=e&&e.slice(5*l-5,5*l).map((function(e){return Object(n.jsxs)("tr",{className:"user-item",children:[Object(n.jsx)("td",{children:e.id}),Object(n.jsx)("td",{children:e.name}),Object(n.jsx)("td",{children:e.surname})]},e.id)}));Object(c.useEffect)((function(){s(function(){var e=Object(o.a)(d.a.mark((function e(t){var r,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t({type:"START_LOADING"});case 2:return e.prev=2,e.next=5,O.a.get("https://toweriq-test-app.herokuapp.com/users");case 5:return r=e.sent,e.next=8,r.data;case 8:n=e.sent,t(h(n)),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),t({type:"LOADING_FAILURE",payload:e.t0.message});case 15:case"end":return e.stop()}}),e,null,[[2,12]])})));return function(t){return e.apply(this,arguments)}}())}),[s]),Object(c.useEffect)((function(){e&&function(){var t=1,r=setInterval((function(){g(e[t]),t++,t%=e.length}),8e3)}(),e&&g(e[0])}),[e]);var w=!t&&e?Object(n.jsx)(N,{usersOnPage:y,currentUser:m}):null,A=!t&&r?Object(n.jsx)("div",{className:"error",children:"Error: ".concat(r)}):null,L=t?Object(n.jsx)(x,{}):null;return Object(n.jsxs)("div",{className:"App",children:[Object(n.jsx)("header",{className:"header",children:Object(n.jsx)("h1",{children:"Test task"})}),w,A,L,Object(n.jsx)(v,{pages:Math.ceil(e&&e.length/5),setCurrentPage:b}),Object(n.jsx)("footer",{className:"footer"})]})},w=r(9),A=r(28),L=r(8),E={loading:!1,users:null,error:null},I=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"START_LOADING":return Object(L.a)(Object(L.a)({},e),{},{loading:!0});case"LOADING_COMPLETE":return Object(L.a)(Object(L.a)({},e),{},{loading:!1,users:t.payload.users});case"LOADING_FAILURE":return Object(L.a)(Object(L.a)({},e),{},{loading:!1,error:t.payload});default:return e}},k=Object(w.c)(I,Object(w.a)(A.a));i.a.render(Object(n.jsx)(u.a,{store:k,children:Object(n.jsx)(s.a.StrictMode,{children:Object(n.jsx)(y,{})})}),document.getElementById("root"))}},[[66,1,2]]]);
//# sourceMappingURL=main.0761daf8.chunk.js.map