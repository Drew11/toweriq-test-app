{"version":3,"sources":["actions/index.js","components/spinner/spinner.js","components/pagination/pagination.js","components/main/main.js","components/App.js","reducers/rootReducer.js","store/store.js","index.js"],"names":["usersLoadingComplete","users","type","payload","Spinner","className","Pagination","props","pages","setCurrentPage","ButtonGroup","size","variant","aria-label","arr","i","push","map","page","Button","onClick","createPages","Main","usersOnPage","currentUser","Table","striped","bordered","hover","Card","bg","text","style","width","Body","name","App","useSelector","state","loading","error","dispatch","useDispatch","useState","currentPage","setCurrentUser","slice","user","id","surname","useEffect","a","axios","get","response","data","message","interval","setInterval","length","setTimer","main","errorView","spinner","Math","ceil","initialState","rootReducer","action","store","createStore","applyMiddleware","thunk","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.0761daf8.chunk.js","sourcesContent":["import axios from 'axios';\r\n\r\nexport function startLoading() {\r\n    return {\r\n        type: 'START_LOADING',\r\n    };\r\n}\r\n\r\nexport function loadingFailure(error) {\r\n    return {\r\n        type: 'LOADING_FAILURE',\r\n        payload: error\r\n    };\r\n}\r\n\r\nexport function usersLoadingComplete(users) {\r\n    return {\r\n        type: 'LOADING_COMPLETE',\r\n        payload: users\r\n    };\r\n}\r\n\r\nexport const fetchUsers =  () => {\r\n    return async dispatch => {\r\n        await dispatch(startLoading());\r\n        try {\r\n             const response = await axios.get(`https://toweriq-test-app.herokuapp.com/users`);\r\n             const users = await response.data;\r\n             dispatch(usersLoadingComplete(users))\r\n        }catch (err) {\r\n                dispatch(loadingFailure(err.message));\r\n        }\r\n    };\r\n};\r\n","import React from 'react';\r\nimport './spinner.css'\r\n\r\nconst Spinner = ()=> {\r\n\r\n    return (\r\n        <div className=\"spinner\">\r\n            <div className=\"loadingio-spinner-double-ring-ngeuxeet5f\">\r\n                <div className=\"ldio-spyam8woo\">\r\n                    <div></div>\r\n                    <div></div>\r\n                    <div>\r\n                        <div></div>\r\n                    </div>\r\n                    <div>\r\n                        <div></div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default Spinner;\r\n","import React from 'react';\r\nimport { Button, ButtonGroup } from 'react-bootstrap';\r\nimport './pagination.css';\r\n\r\nconst Pagination = (props) => {\r\n\r\n    const {pages, setCurrentPage} = props;\r\n\r\n    const createPages = ()=> {\r\n        let arr = [];\r\n        for(let i = 1; i <= pages; i++) {\r\n            arr.push(i)\r\n        }\r\n        return arr.map((page)=> <Button\r\n            variant='secondary'\r\n            className=\"h-100\"\r\n            key={page}\r\n            onClick={()=>setCurrentPage(page)}\r\n            >\r\n                {page}\r\n           </Button>\r\n        );\r\n    };\r\n\r\n    return (<div className=\"pagination\">\r\n            <ButtonGroup\r\n                size=\"sm-2\"\r\n                variant=\"secondary\"\r\n                aria-label=\"First group\">\r\n                {createPages()}\r\n            </ButtonGroup>\r\n           </div>\r\n    );\r\n};\r\n\r\nexport default Pagination;\r\n","import React from 'react';\r\nimport { Table , Card } from 'react-bootstrap';\r\nimport './main.css';\r\n\r\nconst Main = (props) => {\r\n    const {usersOnPage, currentUser} = props;\r\n    return (\r\n            <main>\r\n                <Table  striped bordered hover variant=\"dark\" className=\"user-list\">\r\n                    <thead>\r\n                    <tr>\r\n                        <th>#</th>\r\n                        <th>First Name</th>\r\n                        <th>Last Name</th>\r\n                    </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                    {usersOnPage}\r\n                    </tbody>\r\n                </Table>\r\n                <div className=\"current-user\">\r\n                    <Card\r\n                        bg=\"dark\"\r\n                        text= 'white'\r\n                        style={{ width: '18rem' }}\r\n                        className=\"mb-2\"\r\n                    >\r\n                        <Card.Body>\r\n                            {currentUser&&currentUser.name}\r\n                        </Card.Body>\r\n                    </Card>\r\n                </div>\r\n            </main>\r\n        )\r\n\r\n};\r\n\r\nexport default Main;","import React, {useState, useEffect,} from 'react';\nimport {useDispatch, useSelector} from \"react-redux\";\nimport {fetchUsers} from '../actions';\nimport Spinner from './spinner/spinner';\nimport Pagination from './pagination/pagination';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport './App.css';\nimport Main from \"./main/main\";\n\nconst App = () => {\n\n    const users = useSelector(state => state.users);\n    const loading = useSelector(state => state.loading);\n    const error = useSelector(state => state.error);\n    const dispatch = useDispatch();\n    const [currentPage, setCurrentPage] = useState(1);\n    const [currentUser, setCurrentUser] = useState(null);\n    const usersPerPage = 5;\n    const usersOnPage = users && users.slice(currentPage * usersPerPage - usersPerPage, currentPage * usersPerPage)\n        .map(user => {\n            return <tr\n                className=\"user-item\"\n                key={user.id}\n            >\n                <td>{user.id}</td>\n                <td>{user.name}</td>\n                <td>{user.surname}</td>\n            </tr>\n        });\n\n    const setTimer = () => {\n        let i = 1;\n        const interval = setInterval(() => {\n                setCurrentUser(users[i]);\n                i++;\n                i = i % users.length\n            }, 8000\n        );\n        return () => clearInterval(interval);\n    };\n\n    useEffect(() => {\n        dispatch(fetchUsers());\n    }, [dispatch]);\n\n    useEffect(() => {\n        users && setTimer();\n        users && setCurrentUser(users[0]);\n    }, [users]);\n\n    const main = !loading && users ? <Main\n        usersOnPage={usersOnPage}\n        currentUser={currentUser}\n    /> : null;\n    const errorView = !loading && error ? <div className=\"error\">{`Error: ${error}`}</div>: null;\n    const spinner = loading ? <Spinner/> : null;\n\n    return (\n        <div className=\"App\">\n            <header className=\"header\">\n                <h1>Test task</h1>\n            </header>\n            {main}\n            {errorView}\n            {spinner}\n            <Pagination\n                pages={Math.ceil(users && users.length / usersPerPage)}\n                setCurrentPage={setCurrentPage}\n            />\n            <footer className=\"footer\">\n            </footer>\n        </div>\n    );\n};\n\nexport default App;\n","const initialState = {\r\n    loading: false,\r\n    users: null,\r\n    error: null\r\n};\r\n\r\nconst rootReducer = (state = initialState, action)=>{\r\n    switch (action.type){\r\n        case 'START_LOADING':\r\n            return {\r\n                ...state,\r\n                loading: true\r\n            };\r\n        case 'LOADING_COMPLETE':\r\n            return {\r\n                ...state,\r\n                loading: false,\r\n                users: action.payload.users\r\n            };\r\n        case 'LOADING_FAILURE':\r\n            return {\r\n                ...state,\r\n                loading: false,\r\n                error: action.payload\r\n            };\r\n        default:\r\n            return state\r\n    }\r\n }\r\n;\r\n\r\nexport default rootReducer;","import { createStore, applyMiddleware } from 'redux';\r\nimport thunk from 'redux-thunk';\r\nimport rootReducer from '../reducers/rootReducer';\r\n\r\nconst store = createStore(rootReducer, applyMiddleware(thunk));\r\nexport default store;\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App';\nimport { Provider } from 'react-redux';\nimport store from './store/store';\n\nReactDOM.render(\n    <Provider store={store}>\n        <React.StrictMode>\n            <App />\n        </React.StrictMode>\n    </Provider>,\n  document.getElementById('root')\n);\n\n\n"],"sourceRoot":""}