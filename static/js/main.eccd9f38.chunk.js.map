{"version":3,"sources":["actions/index.js","components/pagination/pagination.js","components/App.js","reducers/rootReducer.js","store/store.js","index.js"],"names":["usersLoadingComplete","users","type","payload","Pagination","props","pages","setCurrentPage","className","ButtonGroup","size","variant","aria-label","arr","i","push","map","page","Button","onClick","createPages","App","useSelector","state","dispatch","useDispatch","useState","currentPage","currentUser","setCurrentUser","usersOnPage","slice","user","id","name","surname","useEffect","a","axios","get","response","data","message","interval","setInterval","length","setTimer","Table","striped","bordered","hover","Card","bg","text","style","width","Body","Math","ceil","initialState","loading","error","rootReducer","action","store","createStore","applyMiddleware","thunk","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"iRAeO,SAASA,EAAqBC,GACjC,MAAO,CACHC,KAAM,gBACNC,QAASF,GAIV,I,gBCaQG,G,MA/BI,SAACC,GAAW,IAEpBC,EAAyBD,EAAzBC,MAAOC,EAAkBF,EAAlBE,eAkBd,OAAQ,qBAAKC,UAAU,aAAf,SACA,cAACC,EAAA,EAAD,CACIC,KAAK,OACLC,QAAQ,YACRC,aAAW,cAHf,SAjBY,WAEhB,IADA,IAAIC,EAAM,GACFC,EAAI,EAAGA,GAAKR,EAAOQ,IACvBD,EAAIE,KAAKD,GAEb,OAAOD,EAAIG,KAAI,SAACC,GAAD,OAAS,cAACC,EAAA,EAAD,CACpBP,QAAQ,YACRH,UAAU,QAEVW,QAAS,kBAAIZ,EAAeU,IAJR,SAMfA,GAHAA,MAaAG,S,gBC8DFC,G,YAnFH,WAEV,IAAMpB,EAAQqB,aAAY,SAAAC,GAAK,OAAEA,EAAMtB,SACjCuB,EAAWC,cAHH,EAIwBC,mBAAS,GAJjC,mBAIPC,EAJO,KAIMpB,EAJN,OAKwBmB,mBAAS,MALjC,mBAKPE,EALO,KAKMC,EALN,KAORC,EAAc7B,GAAOA,EAAM8B,MADZ,EACkBJ,EADlB,IAC2DA,GACvEX,KAAI,SAAAgB,GACD,OAAO,qBACHxB,UAAU,YADP,UAIH,6BAAKwB,EAAKC,KACV,6BAAKD,EAAKE,OACV,6BAAKF,EAAKG,YAJLH,EAAKC,OA4B1B,OATEG,qBAAU,WACNZ,EFhBJ,uCAAO,WAAMA,GAAN,iBAAAa,EAAA,6DACHb,EArBG,CACHtB,KAAM,kBAmBH,kBAGyBoC,IAAMC,IAAN,gDAHzB,cAGQC,EAHR,gBAIsBA,EAASC,KAJ/B,OAIQxC,EAJR,OAKEuB,EAASxB,EAAqBC,IALhC,kDAOKuB,EArBL,CACHtB,KAAM,oBACNC,QAmBgC,KAAIuC,UAPjC,0DAAP,yDEiBE,CAAClB,IAEHY,qBAAU,WACNnC,GAhBW,WACX,IAAIa,EAAI,EACF6B,EAAWC,aAAY,WACrBf,EAAe5B,EAAMa,IACrBA,IACAA,GAAQb,EAAM4C,SACf,KAUAC,GACP7C,GAAO4B,EAAe5B,EAAM,MAC9B,CAACA,IAGH,sBAAKO,UAAU,MAAf,UACE,wBAAQA,UAAU,SAAlB,SACI,6CAEJ,iCACI,eAACuC,EAAA,EAAD,CAAQC,SAAO,EAACC,UAAQ,EAACC,OAAK,EAACvC,QAAQ,OAAOH,UAAU,YAAxD,UACI,gCACA,+BACI,mCACA,4CACA,gDAGJ,gCACCsB,OAGL,qBAAKtB,UAAU,eAAf,SACI,cAAC2C,EAAA,EAAD,CACIC,GAAG,OACHC,KAAM,QACNC,MAAO,CAAEC,MAAO,SAChB/C,UAAU,OAJd,SAMI,cAAC2C,EAAA,EAAKK,KAAN,UACK5B,GAAaA,EAAYM,cAOxC,cAAC,EAAD,CACI5B,MAAOmD,KAAKC,KAAKzD,GAAOA,EAAM4C,OAnEnB,GAoEXtC,eAAgBA,IAGpB,wBAAQC,UAAU,gB,sBCrFpBmD,EAAe,CACjBC,SAAS,EACT3D,MAAO,KACP4D,MAAO,MA4BIC,EAzBK,WAAiC,IAAhCvC,EAA+B,uDAAvBoC,EAAcI,EAAS,uCAChD,OAAQA,EAAO7D,MACX,IAAK,mBACD,OAAO,2BACAqB,GADP,IAEIqC,SAAS,IAEjB,IAAK,gBACD,OAAO,2BACArC,GADP,IAEIqC,SAAS,EACT3D,MAAO8D,EAAO5D,QAAQF,QAE9B,IAAK,kBACD,OAAO,2BACAsB,GADP,IAEIqC,SAAS,EACTC,MAAOE,EAAO5D,QAAQ0D,QAE9B,QACI,OAAOtC,ICrBJyC,EADDC,YAAYH,EAAaI,YAAgBC,MCEvDC,IAASC,OACL,cAAC,IAAD,CAAUL,MAAOA,EAAjB,SACI,cAAC,IAAMM,WAAP,UACI,cAAC,EAAD,QAGVC,SAASC,eAAe,W","file":"static/js/main.eccd9f38.chunk.js","sourcesContent":["import axios from 'axios';\r\n\r\nexport function startLoading() {\r\n    return {\r\n        type: 'START_LOADING',\r\n    };\r\n}\r\n\r\nexport function loadingFailure(error) {\r\n    return {\r\n        type: 'ITEMS_HAS_ERRORED',\r\n        payload: error\r\n    };\r\n}\r\n\r\nexport function usersLoadingComplete(users) {\r\n    return {\r\n        type: 'LOAD_COMPLETE',\r\n        payload: users\r\n    };\r\n}\r\n\r\nexport const fetchUsers =  () => {\r\n    return async dispatch => {\r\n        dispatch(startLoading());\r\n        try {\r\n             const response = await axios.get(`https://toweriq-test-app.herokuapp.com/users`);\r\n             const users = await response.data;\r\n             dispatch(usersLoadingComplete(users))\r\n        }catch (err) {\r\n                dispatch(loadingFailure(err.message));\r\n        }\r\n    };\r\n};\r\n","import React from 'react';\r\nimport { Button, ButtonGroup } from 'react-bootstrap';\r\nimport './pagination.css';\r\n\r\nconst Pagination = (props) => {\r\n\r\n    const {pages, setCurrentPage} = props;\r\n\r\n    const createPages = ()=> {\r\n        let arr = [];\r\n        for(let i = 1; i <= pages; i++) {\r\n            arr.push(i)\r\n        }\r\n        return arr.map((page)=> <Button\r\n            variant='secondary'\r\n            className=\"h-100\"\r\n            key={page}\r\n            onClick={()=>setCurrentPage(page)}\r\n            >\r\n                {page}\r\n           </Button>\r\n        );\r\n    };\r\n\r\n    return (<div className=\"pagination\">\r\n            <ButtonGroup\r\n                size=\"sm-2\"\r\n                variant=\"secondary\"\r\n                aria-label=\"First group\">\r\n                {createPages()}\r\n            </ButtonGroup>\r\n           </div>\r\n    );\r\n};\r\n\r\nexport default Pagination;\r\n","import React, {useState, useEffect, } from 'react';\nimport {useDispatch, useSelector } from \"react-redux\";\nimport { fetchUsers } from '../actions';\nimport Pagination from './pagination/pagination';\nimport { Table , Card } from 'react-bootstrap';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport './App.css';\n\nconst App = ()=>{\n\n  const users = useSelector(state=>state.users);\n  const dispatch = useDispatch();\n  const [currentPage, setCurrentPage] = useState(1);\n  const [currentUser, setCurrentUser] = useState(null);\n  const usersPerPage = 5;\n  const usersOnPage = users&&users.slice(currentPage*usersPerPage - usersPerPage, currentPage*usersPerPage)\n          .map(user=>{\n              return <tr\n                  className=\"user-item\"\n                  key={user.id}\n              >\n                  <td>{user.id}</td>\n                  <td>{user.name}</td>\n                  <td>{user.surname}</td>\n              </tr>\n          });\n\n  const setTimer = () => {\n        let i = 1;\n        const interval = setInterval(() => {\n                setCurrentUser(users[i]);\n                i++;\n                i = i % users.length\n            }, 8000\n        );\n       return () => clearInterval(interval);\n    };\n\n    useEffect(() => {\n        dispatch(fetchUsers());\n    },[dispatch]);\n\n    useEffect(() => {\n        users&&setTimer();\n        users&&setCurrentUser(users[0]);\n    },[users]);\n\n  return (\n    <div className=\"App\">\n      <header className=\"header\">\n          <h1>Test task</h1>\n      </header>\n      <main>\n          <Table  striped bordered hover variant=\"dark\" className=\"user-list\">\n              <thead>\n              <tr>\n                  <th>#</th>\n                  <th>First Name</th>\n                  <th>Last Name</th>\n              </tr>\n              </thead>\n              <tbody>\n              {usersOnPage}\n              </tbody>\n          </Table>\n          <div className=\"current-user\">\n              <Card\n                  bg=\"dark\"\n                  text= 'white'\n                  style={{ width: '18rem' }}\n                  className=\"mb-2\"\n              >\n                  <Card.Body>\n                      {currentUser&&currentUser.name}\n                  </Card.Body>\n              </Card>\n          </div>\n\n      </main>\n\n        <Pagination\n            pages={Math.ceil(users&&users.length / usersPerPage)}\n            setCurrentPage={setCurrentPage}\n        />\n\n        <footer className=\"footer\">\n        </footer>\n    </div>\n  );\n};\n\nexport default App;\n","const initialState = {\r\n    loading: false,\r\n    users: null,\r\n    error: null\r\n};\r\n\r\nconst rootReducer = (state = initialState, action)=>{\r\n    switch (action.type){\r\n        case 'STARTING_LOADING':\r\n            return {\r\n                ...state,\r\n                loading: true\r\n            };\r\n        case 'LOAD_COMPLETE':\r\n            return {\r\n                ...state,\r\n                loading: false,\r\n                users: action.payload.users\r\n            };\r\n        case 'LOADING_FAILURE':\r\n            return {\r\n                ...state,\r\n                loading: false,\r\n                error: action.payload.error\r\n            };\r\n        default:\r\n            return state\r\n    }\r\n }\r\n;\r\n\r\nexport default rootReducer;","import { createStore, applyMiddleware } from 'redux';\r\nimport thunk from 'redux-thunk';\r\nimport rootReducer from '../reducers/rootReducer';\r\n\r\nconst store = createStore(rootReducer, applyMiddleware(thunk));\r\nexport default store;\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App';\nimport { Provider } from 'react-redux';\nimport store from './store/store';\n\nReactDOM.render(\n    <Provider store={store}>\n        <React.StrictMode>\n            <App />\n        </React.StrictMode>\n    </Provider>,\n  document.getElementById('root')\n);\n\n\n"],"sourceRoot":""}